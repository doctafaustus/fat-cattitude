(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43983358"],{"6b8b":function(t,e,s){"use strict";var a=s("fb63"),i=s.n(a);i.a},b268:function(t,e,s){"use strict";var a=s("b2af"),i=s.n(a);i.a},b2af:function(t,e,s){},b789:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"cart"},[s("a",{staticClass:"back-top-shopping",on:{click:function(e){return t.$router.go(-1)}}},[s("Icon",{attrs:{name:"backArrowLeft"}}),s("span",[t._v("Back to Shopping")])],1),s("div",{staticClass:"cart-main"},[s("div",{staticClass:"cart-products"},[s("h1",{staticClass:"cart-title"},[t._v("Your Stuff ("+t._s(t.cart.length)+")")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.cart.length,expression:"!cart.length"}],staticClass:"cart-empty"},[t._v("There are no products in your cart.")]),s("ul",{staticClass:"order-list"},t._l(t.cart.slice().reverse(),(function(e,a){return s("li",{key:"size-"+a,staticClass:"order-product"},[s("router-link",{staticClass:"order-product-image-link-col",attrs:{to:{name:"Product",params:{id:e.productID},query:{color:e.query.color,size:e.query.size}}}},[s("img",{staticClass:"order-product-image",attrs:{src:e.image}})]),s("div",{staticClass:"order-product-details-col"},[s("router-link",{staticClass:"order-product-link",attrs:{to:{name:"Product",params:{id:e.productID},query:{color:e.query.color,size:e.query.size}}}},[s("div",{staticClass:"order-product-title"},[t._v(t._s(e.title))])]),s("div",{staticClass:"order-product-detail"},[s("label",[t._v("Size:")]),s("span",{staticClass:"order-product-detail-val"},[t._v(t._s(e.size))])]),s("div",{staticClass:"order-product-detail"},[s("label",[t._v("Color:")]),s("span",{staticClass:"order-product-detail-val"},[t._v(t._s(e.color))])]),s("div",{staticClass:"order-product-price"},[t._v("$"+t._s(e.price))])],1),s("div",{staticClass:"cart-product-delete-col"},[s("div",{staticClass:"cart-product-delete-close",on:{click:function(s){return t.remove(e.variantID)}}},[s("Icon",{attrs:{name:"close"}})],1)])],1)})),0)]),s("div",{staticClass:"cart-summary"},[s("div",{class:{"total-shown":0!==t.total,processing:t.processing,"cart-os":!0}},[s("div",{staticClass:"cart-os-title"},[t._v("Order Summary")]),s("div",{staticClass:"nyan-loading"}),s("div",{staticClass:"cart-os-details fade-slide"},[s("div",{staticClass:"cart-os-details-row"},[s("div",{staticClass:"cart-os-subtotal-label"},[t._v("Subtotal")]),s("div",{staticClass:"cart-os-subtotal-value"},[t._v(t._s(t._f("toCurrency")(t.subtotal)))])]),s("div",{staticClass:"cart-os-details-row"},[s("div",{staticClass:"cart-os-subtotal-label"},[t._v("Shipping")]),s("div",{staticClass:"cart-os-subtotal-value"},[t._v(t._s(t._f("toCurrency")(t.shipping)))])]),s("div",{staticClass:"cart-os-details-row"},[s("div",{staticClass:"cart-os-subtotal-label"},[t._v("Tax")]),s("div",{staticClass:"cart-os-subtotal-value"},[t._v(t._s(t._f("toCurrency")(t.tax)))])]),s("div",{staticClass:"cart-os-details-row total"},[s("div",{staticClass:"cart-os-subtotal-label"},[t._v("Total")]),s("div",{staticClass:"cart-os-subtotal-value"},[t._v(t._s(t._f("toCurrency")(t.total)))])])])])])]),s("Checkout",{directives:[{name:"show",rawName:"v-show",value:t.cart.length,expression:"cart.length"}]})],1)},i=[],r=s("d3e3"),l=s("414a"),o=s("c5a6"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"post-estimate"===t.step,expression:"step === 'post-estimate'"}],staticClass:"saved-info"},[s("div",{staticClass:"saved-info-block"},[s("span",{staticClass:"edit-link",on:{click:function(e){return t.editInfo()}}},[t._v("Edit")]),s("div",{staticClass:"block"},[s("h4",[t._v("Email Address")]),s("div",[t._v(t._s(t.fields.email))])]),s("div",{staticClass:"block"},[s("h4",[t._v("Shipping Address")]),s("div",[t._v(t._s(t.fields.firstNameShipping)+" "+t._s(t.fields.lastNameShipping))]),s("div",[t._v(t._s(t.fields.address1Shipping))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fields.address2Shipping,expression:"fields.address2Shipping"}]},[t._v(t._s(t.fields.address2Shipping))]),s("div",[t._v(t._s(t.fields.cityShipping)+", "+t._s(t.fields.stateShipping)+" "+t._s(t.fields.zipShipping))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.sameAddress,expression:"!sameAddress"}],staticClass:"block"},[s("h4",[t._v("Billing Address")]),s("div",[t._v(t._s(t.fields.firstNameBilling)+" "+t._s(t.fields.lastNameBilling))]),s("div",[t._v(t._s(t.fields.address1Billing))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fields.address2Billing,expression:"fields.address2Billing"}]},[t._v(t._s(t.fields.address2Billing))]),s("div",[t._v(t._s(t.fields.cityBilling)+", "+t._s(t.fields.stateBilling)+" "+t._s(t.fields.zipBilling))])])])]),s("form",{staticClass:"checkout-form",attrs:{action:"/api/place-order",method:"POST"}},[s("fieldset",{directives:[{name:"show",rawName:"v-show",value:"pre-estimate"===t.step,expression:"step === 'pre-estimate'"}],staticClass:"pre-estimate"},[s("div",{staticClass:"segment contact-information"},[s("h3",{staticClass:"segment-title"},[t._v("Contact Information")]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.email,expression:"fields.email"}],attrs:{id:"email",type:"text",placeholder:"Email"},domProps:{value:t.fields.email},on:{input:function(e){e.target.composing||t.$set(t.fields,"email",e.target.value)}}})]),s("span",{staticClass:"error"})])]),s("div",{staticClass:"segment shipping-address"},[s("h3",{staticClass:"segment-title"},[t._v("Shipping Address")]),s("div",{staticClass:"input-group input-group-col-2"},[s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.firstNameShipping,expression:"fields.firstNameShipping"}],attrs:{id:"first-name-shipping",type:"text",placeholder:"First Name"},domProps:{value:t.fields.firstNameShipping},on:{input:function(e){e.target.composing||t.$set(t.fields,"firstNameShipping",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.lastNameShipping,expression:"fields.lastNameShipping"}],attrs:{id:"last-name-shipping",type:"text",placeholder:"Last Name"},domProps:{value:t.fields.lastNameShipping},on:{input:function(e){e.target.composing||t.$set(t.fields,"lastNameShipping",e.target.value)}}})]),s("span",{staticClass:"error"})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.address1Shipping,expression:"fields.address1Shipping"}],attrs:{id:"address1-shipping",type:"text",placeholder:"Address"},domProps:{value:t.fields.address1Shipping},on:{input:function(e){e.target.composing||t.$set(t.fields,"address1Shipping",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Address 2 (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.address2Shipping,expression:"fields.address2Shipping"}],attrs:{id:"address2-shipping",type:"text",placeholder:"Address 2 (optional)"},domProps:{value:t.fields.address2Shipping},on:{input:function(e){e.target.composing||t.$set(t.fields,"address2Shipping",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("City")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.cityShipping,expression:"fields.cityShipping"}],attrs:{id:"city-shipping",type:"text",placeholder:"City"},domProps:{value:t.fields.cityShipping},on:{input:function(e){e.target.composing||t.$set(t.fields,"cityShipping",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"input-group input-group-col-2"},[s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper dropdown"},[s("label",[t._v("State")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.fields.stateShipping,expression:"fields.stateShipping"}],attrs:{id:"state-shipping",placeholder:"State","data-clean":"true"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.fields,"stateShipping",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"null",disabled:""}},[t._v("State")]),s("option",{attrs:{value:"AL"}},[t._v("Alabama")]),s("option",{attrs:{value:"AK"}},[t._v("Alaska")]),s("option",{attrs:{value:"AZ"}},[t._v("Arizona")]),s("option",{attrs:{value:"AR"}},[t._v("Arkansas")]),s("option",{attrs:{value:"CA"}},[t._v("California")]),s("option",{attrs:{value:"CO"}},[t._v("Colorado")]),s("option",{attrs:{value:"CT"}},[t._v("Connecticut")]),s("option",{attrs:{value:"DE"}},[t._v("Delaware")]),s("option",{attrs:{value:"DC"}},[t._v("District of Columbia")]),s("option",{attrs:{value:"FL"}},[t._v("Florida")]),s("option",{attrs:{value:"GA"}},[t._v("Georgia")]),s("option",{attrs:{value:"HI"}},[t._v("Hawaii")]),s("option",{attrs:{value:"ID"}},[t._v("Idaho")]),s("option",{attrs:{value:"IL"}},[t._v("Illinois")]),s("option",{attrs:{value:"IN"}},[t._v("Indiana")]),s("option",{attrs:{value:"IA"}},[t._v("Iowa")]),s("option",{attrs:{value:"KS"}},[t._v("Kansas")]),s("option",{attrs:{value:"KY"}},[t._v("Kentucky")]),s("option",{attrs:{value:"LA"}},[t._v("Louisiana")]),s("option",{attrs:{value:"ME"}},[t._v("Maine")]),s("option",{attrs:{value:"MD"}},[t._v("Maryland")]),s("option",{attrs:{value:"MA"}},[t._v("Massachusetts")]),s("option",{attrs:{value:"MI"}},[t._v("Michigan")]),s("option",{attrs:{value:"MN"}},[t._v("Minnesota")]),s("option",{attrs:{value:"MS"}},[t._v("Mississippi")]),s("option",{attrs:{value:"MO"}},[t._v("Missouri")]),s("option",{attrs:{value:"MT"}},[t._v("Montana")]),s("option",{attrs:{value:"NE"}},[t._v("Nebraska")]),s("option",{attrs:{value:"NV"}},[t._v("Nevada")]),s("option",{attrs:{value:"NH"}},[t._v("New Hampshire")]),s("option",{attrs:{value:"NJ"}},[t._v("New Jersey")]),s("option",{attrs:{value:"NM"}},[t._v("New Mexico")]),s("option",{attrs:{value:"NY"}},[t._v("New York")]),s("option",{attrs:{value:"NC"}},[t._v("North Carolina")]),s("option",{attrs:{value:"ND"}},[t._v("North Dakota")]),s("option",{attrs:{value:"OH"}},[t._v("Ohio")]),s("option",{attrs:{value:"OK"}},[t._v("Oklahoma")]),s("option",{attrs:{value:"OR"}},[t._v("Oregon")]),s("option",{attrs:{value:"PA"}},[t._v("Pennsylvania")]),s("option",{attrs:{value:"RI"}},[t._v("Rhode Island")]),s("option",{attrs:{value:"SC"}},[t._v("South Carolina")]),s("option",{attrs:{value:"SD"}},[t._v("South Dakota")]),s("option",{attrs:{value:"TN"}},[t._v("Tennessee")]),s("option",{attrs:{value:"TX"}},[t._v("Texas")]),s("option",{attrs:{value:"UT"}},[t._v("Utah")]),s("option",{attrs:{value:"VT"}},[t._v("Vermont")]),s("option",{attrs:{value:"VA"}},[t._v("Virginia")]),s("option",{attrs:{value:"WA"}},[t._v("Washington")]),s("option",{attrs:{value:"WV"}},[t._v("West Virginia")]),s("option",{attrs:{value:"WI"}},[t._v("Wisconsin")]),s("option",{attrs:{value:"WY"}},[t._v("Wyoming")])])]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("ZIP code")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.zipShipping,expression:"fields.zipShipping"}],attrs:{id:"zip-shipping",type:"text",placeholder:"ZIP code"},domProps:{value:t.fields.zipShipping},on:{input:function(e){e.target.composing||t.$set(t.fields,"zipShipping",e.target.value)}}})]),s("span",{staticClass:"error"})])])]),s("div",{staticClass:"same-shipping-billing"},[s("label",{staticClass:"same-shipping-billing-label",attrs:{for:"same-address"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sameAddress,expression:"sameAddress"}],attrs:{type:"checkbox",id:"same-address",checked:""},domProps:{checked:Array.isArray(t.sameAddress)?t._i(t.sameAddress,null)>-1:t.sameAddress},on:{change:function(e){var s=t.sameAddress,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);a.checked?l<0&&(t.sameAddress=s.concat([r])):l>-1&&(t.sameAddress=s.slice(0,l).concat(s.slice(l+1)))}else t.sameAddress=i}}}),s("div",{staticClass:"checkbox-container"},[s("Icon",{attrs:{name:"checkmark"}})],1),s("span",[t._v("Same billing & shipping address")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.sameAddress,expression:"!sameAddress"}],staticClass:"segment billing-address"},[s("h3",{staticClass:"segment-title"},[t._v("Billing Address")]),s("div",{staticClass:"input-group input-group-col-2"},[s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("First Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.firstNameBilling,expression:"fields.firstNameBilling"}],attrs:{id:"first-name-billing",type:"text",placeholder:"First Name"},domProps:{value:t.fields.firstNameBilling},on:{input:function(e){e.target.composing||t.$set(t.fields,"firstNameBilling",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Last Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.lastNameBilling,expression:"fields.lastNameBilling"}],attrs:{id:"last-name-billing",type:"text",placeholder:"Last Name"},domProps:{value:t.fields.lastNameBilling},on:{input:function(e){e.target.composing||t.$set(t.fields,"lastNameBilling",e.target.value)}}})]),s("span",{staticClass:"error"})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.address1Billing,expression:"fields.address1Billing"}],attrs:{id:"address1-billing",type:"text",placeholder:"Address"},domProps:{value:t.fields.address1Billing},on:{input:function(e){e.target.composing||t.$set(t.fields,"address1Billing",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("Address 2 (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.address2Billing,expression:"fields.address2Billing"}],attrs:{id:"address2-billing",type:"text",placeholder:"Address 2 (optional)"},domProps:{value:t.fields.address2Billing},on:{input:function(e){e.target.composing||t.$set(t.fields,"address2Billing",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("City")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.cityBilling,expression:"fields.cityBilling"}],attrs:{id:"city-billing",type:"text",placeholder:"City"},domProps:{value:t.fields.cityBilling},on:{input:function(e){e.target.composing||t.$set(t.fields,"cityBilling",e.target.value)}}})]),s("span",{staticClass:"error"})]),s("div",{staticClass:"input-group input-group-col-2"},[s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper dropdown"},[s("label",[t._v("State")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.fields.stateBilling,expression:"fields.stateBilling"}],attrs:{id:"state-billing",placeholder:"State","data-clean":"true"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.fields,"stateBilling",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"null",disabled:""}},[t._v("State")]),s("option",{attrs:{value:"AL"}},[t._v("Alabama")]),s("option",{attrs:{value:"AK"}},[t._v("Alaska")]),s("option",{attrs:{value:"AZ"}},[t._v("Arizona")]),s("option",{attrs:{value:"AR"}},[t._v("Arkansas")]),s("option",{attrs:{value:"CA"}},[t._v("California")]),s("option",{attrs:{value:"CO"}},[t._v("Colorado")]),s("option",{attrs:{value:"CT"}},[t._v("Connecticut")]),s("option",{attrs:{value:"DE"}},[t._v("Delaware")]),s("option",{attrs:{value:"DC"}},[t._v("District of Columbia")]),s("option",{attrs:{value:"FL"}},[t._v("Florida")]),s("option",{attrs:{value:"GA"}},[t._v("Georgia")]),s("option",{attrs:{value:"HI"}},[t._v("Hawaii")]),s("option",{attrs:{value:"ID"}},[t._v("Idaho")]),s("option",{attrs:{value:"IL"}},[t._v("Illinois")]),s("option",{attrs:{value:"IN"}},[t._v("Indiana")]),s("option",{attrs:{value:"IA"}},[t._v("Iowa")]),s("option",{attrs:{value:"KS"}},[t._v("Kansas")]),s("option",{attrs:{value:"KY"}},[t._v("Kentucky")]),s("option",{attrs:{value:"LA"}},[t._v("Louisiana")]),s("option",{attrs:{value:"ME"}},[t._v("Maine")]),s("option",{attrs:{value:"MD"}},[t._v("Maryland")]),s("option",{attrs:{value:"MA"}},[t._v("Massachusetts")]),s("option",{attrs:{value:"MI"}},[t._v("Michigan")]),s("option",{attrs:{value:"MN"}},[t._v("Minnesota")]),s("option",{attrs:{value:"MS"}},[t._v("Mississippi")]),s("option",{attrs:{value:"MO"}},[t._v("Missouri")]),s("option",{attrs:{value:"MT"}},[t._v("Montana")]),s("option",{attrs:{value:"NE"}},[t._v("Nebraska")]),s("option",{attrs:{value:"NV"}},[t._v("Nevada")]),s("option",{attrs:{value:"NH"}},[t._v("New Hampshire")]),s("option",{attrs:{value:"NJ"}},[t._v("New Jersey")]),s("option",{attrs:{value:"NM"}},[t._v("New Mexico")]),s("option",{attrs:{value:"NY"}},[t._v("New York")]),s("option",{attrs:{value:"NC"}},[t._v("North Carolina")]),s("option",{attrs:{value:"ND"}},[t._v("North Dakota")]),s("option",{attrs:{value:"OH"}},[t._v("Ohio")]),s("option",{attrs:{value:"OK"}},[t._v("Oklahoma")]),s("option",{attrs:{value:"OR"}},[t._v("Oregon")]),s("option",{attrs:{value:"PA"}},[t._v("Pennsylvania")]),s("option",{attrs:{value:"RI"}},[t._v("Rhode Island")]),s("option",{attrs:{value:"SC"}},[t._v("South Carolina")]),s("option",{attrs:{value:"SD"}},[t._v("South Dakota")]),s("option",{attrs:{value:"TN"}},[t._v("Tennessee")]),s("option",{attrs:{value:"TX"}},[t._v("Texas")]),s("option",{attrs:{value:"UT"}},[t._v("Utah")]),s("option",{attrs:{value:"VT"}},[t._v("Vermont")]),s("option",{attrs:{value:"VA"}},[t._v("Virginia")]),s("option",{attrs:{value:"WA"}},[t._v("Washington")]),s("option",{attrs:{value:"WV"}},[t._v("West Virginia")]),s("option",{attrs:{value:"WI"}},[t._v("Wisconsin")]),s("option",{attrs:{value:"WY"}},[t._v("Wyoming")])])]),s("span",{staticClass:"error"})]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper"},[s("label",[t._v("ZIP code")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.zipBilling,expression:"fields.zipBilling"}],attrs:{id:"zip-billing",type:"text",placeholder:"ZIP code"},domProps:{value:t.fields.zipBilling},on:{input:function(e){e.target.composing||t.$set(t.fields,"zipBilling",e.target.value)}}})]),s("span",{staticClass:"error"})])])]),s("div",{staticClass:"continue-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.estimateOrderError,expression:"estimateOrderError"}],staticClass:"estimate-order-error error"},[t._v(t._s(t.estimateOrderError))]),s("button",{ref:"continue",staticClass:"continue-btn cta",on:{click:function(e){return e.preventDefault(),t.validateFields({isEstimate:!0})}}},[t._v("Continue")])])]),s("fieldset",{directives:[{name:"show",rawName:"v-show",value:"post-estimate"===t.step,expression:"step === 'post-estimate'"}],staticClass:"post-estimate"},[s("div",{directives:[{name:"show",rawName:"v-show",value:Object.keys(t.orderEstimate).length,expression:"Object.keys(orderEstimate).length"}],staticClass:"shipping-rate-container"},[s("div",{staticClass:"shipping-rate-title"},[t._v("Shipping Option")]),s("ul",{staticClass:"shipping-rate-options"},[s("li",{staticClass:"shipping-rate-option"},[s("label",{attrs:{for:"shipping-option-0"}},[s("input",{attrs:{type:"radio",id:"shipping-option-0",name:"shipping-option",checked:""}}),s("div",{staticClass:"circle"}),t._m(0),s("div",{staticClass:"shipping-rate-value"},[t._v("$"+t._s(t.orderEstimate.shipping))])])])])]),s("div",{staticClass:"segment payment-information"},[s("h3",{staticClass:"segment-title"},[t._v("Payment Information")]),s("div",{staticClass:"field"},[s("div",{staticClass:"input-wrapper stripe-wrapper"},[s("div",{attrs:{id:"card-number"}}),s("label",[t._v("Credit Card Number")]),s("Icon",{attrs:{name:"creditCard"}})],1),s("span",{ref:"number-error",staticClass:"error"})]),s("div",{staticClass:"input-group input-group-col-2"},[s("div",{staticClass:"field"},[t._m(1),s("span",{ref:"expiry-error",staticClass:"error"})]),s("div",{staticClass:"field"},[t._m(2),s("span",{ref:"cvc-error",staticClass:"error"})])])]),s("div",{staticClass:"segment place-order"},[s("div",{staticClass:"place-order-error"},[t._v(t._s(t.placeOrderError))]),s("button",{ref:"place-order",staticClass:"cta place-order-cta",on:{click:function(e){return e.preventDefault(),t.validateFields({isEstimate:!1})}}},[s("span",{staticClass:"place-order-text"},[t._v("Place Order")])])])])])])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shipping-rate-name"},[s("span",{staticClass:"shipping-rate-id"},[t._v("Standard")]),t._v(" - "),s("span",[t._v("Flat Rate (3-4 business days after fulfillment)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-wrapper stripe-wrapper"},[s("div",{attrs:{id:"card-expiry"}}),s("label",[t._v("MM / YY")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-wrapper stripe-wrapper"},[s("div",{attrs:{id:"card-cvc"}}),s("label",[t._v("CVC")])])}],p={name:"Checkout",components:{Icon:o["a"]},mixins:[l["a"]],data(){return{step:"pre-estimate",stripe:null,card:null,cardCheckSending:!1,estimateOrderError:null,placeOrderError:null,sameAddress:!0,fields:{email:null,firstNameShipping:null,lastNameShipping:null,address1Shipping:null,address2Shipping:null,cityShipping:null,stateShipping:null,zipShipping:null,firstNameBilling:null,lastNameBilling:null,address1Billing:null,address2Billing:null,cityBilling:null,stateBilling:null,zipBilling:null},orderEstimate:{}}},methods:{initInputClasses(){const t=document.querySelectorAll('.checkout-form input[type="text"], select');t.forEach(t=>{t.addEventListener("focus",t=>this.toggleActiveClass(t,"add")),t.addEventListener("blur",t=>{t.target.value||this.toggleActiveClass(t,"remove")})})},toggleActiveClass(t,e){t.target.closest(".input-wrapper").classList[e]("active"),"add"===e&&this.clearInlineError(t.target.closest(".field")),"SELECT"===t.target.nodeName&&(t.target.dataset.clean=!1)},initStripe(){l["a"].loadScript("https://js.stripe.com/v3/",this.addStripeElements)},editInfo(){this.step="pre-estimate"},clearInlineError(t){t.classList.remove("has-error"),t.querySelector(".error").textContent=""},clearAllInlineErrors(){document.querySelectorAll(".field").forEach(this.clearInlineError)},validateFields({isEstimate:t}){if(this.placeOrderError=null,this.clearAllInlineErrors(),Object.keys(this.fields).forEach(t=>{const e=this.$data.fields[t],s=document.querySelector("#"+l["a"].slugify(t));if(/address2/.test(s.id))return;const a=s.closest(".field"),i=/^.+@.+\..+$/;let r;if(e){if("email"!==t||i.test(e))return;r="Invalid email address"}else r=s.getAttribute("placeholder")+" required";a.querySelector(".error").textContent=r,a.classList.add("has-error")}),this.hasInlineErrors())return console.log("has inline errors");t?(r["a"].$emit("processing",{isProcessing:!0}),this.$refs.continue.disabled=!0,this.getOrderEstimate()):this.createToken()},hasInlineErrors(){return this.sameAddress?document.querySelectorAll(".contact-information .has-error, .shipping-address .has-error").length:document.querySelectorAll(".has-error").length},getItemsMap(){return l["a"].getCartArray().map(t=>({sync_variant_id:t.variantID,quantity:1,retail_price:t.price}))},getOrderEstimate(){this.estimateOrderError=!1,fetch(window.baseURL+"/estimate-costs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:this.fields,items:this.getItemsMap()})}).then(t=>t.json()).then(t=>{console.log("api/estimate-costs response: \n",t),this.$refs.continue.disabled=!1,r["a"].$emit("processing",{isProcessing:!1}),t.error?this.estimateOrderError="Error - "+t.error:(console.log("SUCCESS!",t),this.orderEstimate=t.result.costs,r["a"].$emit("order-estimate",this.orderEstimate),this.step="post-estimate")})},addStripeElements(){const t={base:{fontSize:"16px","::placeholder":{color:"#a9a9a9"}}},e="www.fatcattitude.com"===window.location.hostname?"pk_live_WoScdx61kcdTsm7TbBSalh8j":"pk_test_OKClfKEUHvsE9Bpb9hoptSGV";this.stripe=Stripe(e);const s=this.stripe.elements(),a=s.create("cardNumber",{style:t,placeholder:"Credit Card Number"}),i=s.create("cardExpiry",{style:t}),r=s.create("cardCvc",{style:t});a.mount("#card-number"),i.mount("#card-expiry"),r.mount("#card-cvc"),a.ref="#card-number",i.ref="#card-expiry",r.ref="#card-cvc",this.card=a,[a,i,r].forEach(t=>{t.on("change",e=>{const s=document.querySelector(t.ref).closest(".field");s.classList.remove("has-error"),s.querySelector(".error").textContent=""})})},createToken(){this.stripe.createToken(this.card).then(t=>{if(t.error){console.log("error!!!",t.error);const e={incomplete_number:"number-error",invalid_number:"number-error",incomplete_expiry:"expiry-error",invalid_expiry_year_past:"expiry-error",invalid_expiry_year:"expiry-error",incomplete_cvc:"cvc-error",invalid_cvc:"cvc-error"},s=e[t.error.code];if(s){const e=this.$refs[s];e.closest(".field").classList.add("has-error"),e.textContent=t.error.message}else this.placeOrderError=t.error.message}else console.log("sending to server"),document.querySelector(".place-order-cta").disabled=!0,this.stripeTokenHandler(t.token)})},stripeTokenHandler(t){fetch(window.baseURL+"/place-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,fields:this.fields,sameAddress:this.sameAddress,items:this.getItemsMap()})}).then(t=>t.json()).then(t=>{console.log("api/place-order response: \n",t),this.$refs["place-order"].disabled=!1,t.error?this.placeOrderError=t.error:(console.log("Successful order:",t),this.$router.push(`/order-confirmation?orderID=${t.charge.metadata.orderID}&chargeID=${t.charge.id}`))})},bindSubmitEvents(){const t=document.querySelector(".checkout-form");t.addEventListener("submit",t=>{t.preventDefault(),"post-estimate"===this.step&&this.validateFields({isEstimate:!1})})},reValidateAfterRemove(){"post-estimate"===this.step&&this.validateFields({isEstimate:!0})}},mounted(){this.initInputClasses(),this.bindSubmitEvents(),window.Stripe?this.addStripeElements():this.initStripe(),r["a"].$on("cart-remove",this.reValidateAfterRemove)},beforeDestroy(){r["a"].$off("cart-remove",this.reValidateAfterRemove)}},c=p,v=(s("b268"),s("2877")),u=Object(v["a"])(c,n,d,!1,null,"1ab73ebe",null),m=u.exports,h=(s("48b2"),{name:"Cart",components:{Icon:o["a"],Checkout:m},mixins:[l["a"]],data(){return{cart:[],subtotal:0,shipping:"TBD",tax:"TBD",total:0,processing:!1}},methods:{getCart(){this.cart=l["a"].getCartArray(),console.log(this.cart),this.subtotal=this.cart.reduce((t,e)=>t+e.price,0)},remove(t){r["a"].$emit("cart-remove",t),this.getCart()},setProcessingState({isProcessing:t}){this.processing=t},estimateOrder(t){this.shipping=t.shipping,this.tax=t.tax,this.total=this.subtotal+this.shipping+this.tax}},mounted(){this.getCart(),r["a"].$on("processing",this.setProcessingState),r["a"].$on("order-estimate",this.estimateOrder)},beforeDestroy(){r["a"].$off("processing",this.setProcessingState),r["a"].$off("order-estimate",this.estimateOrder)}}),g=h,f=(s("6b8b"),Object(v["a"])(g,a,i,!1,null,"1519735a",null));e["default"]=f.exports},fb63:function(t,e,s){}}]);
//# sourceMappingURL=chunk-43983358.e383a4b7.js.map